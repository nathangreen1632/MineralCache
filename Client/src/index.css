@import url('https://fonts.googleapis.com/css?family=Inter:wght@400;600;800&display=swap');
@import "tailwindcss";

/* =================================== BASE: LIGHT (default) =================================== */
@layer base {
  :root {
    color-scheme: light;

    /* Base palette (A light ⇢ E dark text) */
    --c-a: #FAFAFA;
    --c-b: #F2EEED;
    --c-c: #EDDEDE;
    --c-d: #ECD4CA;
    --c-e: #300D0D;

    /* Extended palette (complements, lightened for UI) */
    --c-f: #EAE9EC;
    --c-g: #4DA167;
    --c-h: #E9D7DA;
    --c-i: #D6F4F5;
    --c-j: #38302E;
    --c-k: #343036;
    --c-l: #E9D7E1;
    --c-m: #C1EDF0;
    --c-n: #F2F2F2;
    --c-o: #F5AF02;
    --c-p: #000000;
    --c-q: #000000;

    /* LIGHT theme mapping */
    --theme-bg: var(--c-b);
    --theme-surface: var(--c-a);
    --theme-surface-alt: var(--c-b);
    --theme-text: var(--c-e);
    --theme-text-white: var(--c-a);
    --theme-accent: var(--c-e);
    --theme-border: var(--c-c);
    --theme-strip: var(--c-b);
    --theme-strip-text: var(--c-e);
    --theme-textbox: var(--c-f);
    --theme-placeholder: var(--c-e);
    --theme-pencil: var(--c-e);
    --theme-superscript: var(--c-e);
    --theme-moveto: var(--c-f);
    --theme-scripture: var(--c-f);
    --theme-verse: var(--c-f);
    --theme-card-number: var(--c-e);
    --theme-shadow-carousel: var(--c-e);
    --theme-shadow-categories: var(--c-e);
    --theme-shadow-onSale: var(--c-e);
    --theme-text-black: var(--c-p);
    --theme-text-dark: var(--c-b);
    --theme-shadow-black: rgba(48, 13, 13, 0.5);

    /* buttons */
    --theme-button: var(--c-e);
    --theme-button-blue: var(--c-d);
    --theme-button-blue-hover: var(--c-c);
    --theme-button-gray: var(--c-c);
    --theme-button-dark: var(--c-a);
    --theme-button-yellow: var(--c-o);
    --theme-button-hover: var(--c-k);
    --theme-pill-green: var(--c-l);
    --theme-pill-orange: var(--c-m);

    /* links */
    --theme-link: var(--c-j);
    --theme-link-hover: #E9D1CB;

    /* semantic */
    --theme-success: var(--c-g);
    --theme-warning: var(--c-i);
    --theme-info: var(--c-j);
    --theme-psycho: var(--c-q);

    /* cards & interactive */
    --theme-card: var(--c-b);
    --theme-card-hover: var(--c-c);
    --theme-card-hover-alt: var(--c-b);
    --theme-card-alt-inverse: var(--c-h);
    --theme-card-alt-hover: var(--c-n);
    --theme-card-alt: var(--c-f);
    --theme-hover: var(--c-d);
    --theme-category: var(--c-d);

    /* focus & elevation */
    --theme-focus: var(--c-d);
    --theme-shadow: rgba(48, 13, 13, 0.25);

    /* error */
    --theme-error: #ef4444;
    --theme-button-error: #c43838;

    /* LIGHT scrollbar */
    --theme-scrollbar-track: var(--theme-surface);
    --theme-scrollbar-thumb: var(--theme-accent);
  }
}

/* ====================== SYSTEM DARK (when OS is dark and no explicit override) ====================== */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]), :root[data-theme="system"] {
    color-scheme: dark;

    /* Base palette (A light text ⇢ E darkest surface) */
    --c-a: #FCFCFC;
    --c-b: #57737A;
    --c-c: #85BDBF;
    --c-d: #122932;
    --c-e: #040F0F;

    /* Extended palette */
    --c-f: #A1A499;
    --c-g: #4DA167;
    --c-h: #2C514C;
    --c-i: #A22C29;
    --c-j: #46ACC2;
    --c-k: #30332E;
    --c-l: #41785A;
    --c-m: #902923;
    --c-n: #191919;
    --c-o: #F5AF02;
    --c-p: #000000;
    --c-q: #FFFFFF;

    /* DARK theme mapping */
    --theme-bg: var(--c-e);
    --theme-surface: var(--c-e);
    --theme-surface-alt: var(--c-e);
    --theme-text: var(--c-a);
    --theme-text-white: var(--c-e);
    --theme-accent: var(--c-a);
    --theme-border: var(--c-b);
    --theme-strip: var(--c-d);
    --theme-strip-text: var(--c-a);
    --theme-textbox: var(--c-f);
    --theme-placeholder: var(--c-e);
    --theme-pencil: var(--c-f);
    --theme-superscript: var(--c-f);
    --theme-moveto: var(--c-e);
    --theme-scripture: var(--c-e);
    --theme-verse: var(--c-e);
    --theme-card-number: var(--c-a);
    --theme-shadow-carousel: rgba(204, 218, 209, 0.25);
    --theme-shadow-categories: var(--c-o);
    --theme-shadow-onSale: rgba(204, 218, 209, 0.25);
    --theme-text-black: var(--c-p);
    --theme-text-dark: var(--c-a);

    /* buttons */
    --theme-button: var(--c-a);
    --theme-button-blue: var(--c-b);
    --theme-button-blue-hover: var(--c-a);
    --theme-button-gray: var(--c-b);
    --theme-button-dark: var(--c-e);
    --theme-button-hover: var(--c-k);
    --theme-button-yellow: var(--c-o);
    --theme-pill-green: var(--c-l);
    --theme-pill-orange: var(--c-m);

    /* links */
    --theme-link: var(--c-j);
    --theme-link-hover: #74C7D6;

    /* semantic */
    --theme-success: var(--c-g);
    --theme-warning: var(--c-i);
    --theme-info: var(--c-j);
    --theme-psycho: var(--c-q);

    /* cards & interactive */
    --theme-card: var(--c-d);
    --theme-card-hover: var(--c-b);
    --theme-card-hover-alt: var(--c-b);
    --theme-card-alt: var(--c-h);
    --theme-card-alt-inverse: var(--c-f);
    --theme-hover: var(--c-b);
    --theme-card-alt-hover: var(--c-n);
    --theme-category: var(--c-d);

    /* focus & elevation */
    --theme-focus: var(--c-a);
    --theme-shadow: rgba(204, 218, 209, 0.25);

    /* error */
    --theme-error: #ef4444;
    --theme-button-error: #c43838;

    /* DARK scrollbar */
    --theme-scrollbar-track: var(--theme-bg);
    --theme-scrollbar-thumb: var(--theme-accent);
  }
}

/* ================================ FORCED DARK (explicit override) ================================ */
html[data-theme="dark"] {
  color-scheme: dark;

  /* Base palette */
  --c-a: #FCFCFC;
  --c-b: #57737A;
  --c-c: #85BDBF;
  --c-d: #122932;
  --c-e: #040F0F;

  /* Extended palette */
  --c-f: #A1A499;
  --c-g: #4DA167;
  --c-h: #2C514C;
  --c-i: #A22C29;
  --c-j: #46ACC2;
  --c-k: #30332E;
  --c-l: #41785A;
  --c-m: #902923;
  --c-n: #191919;
  --c-o: #F5AF02;
  --c-p: #000000;
  --c-q: #FFFFFF;

  /* DARK theme mapping (parity with system dark) */
  --theme-bg: var(--c-e);
  --theme-surface: var(--c-e);
  --theme-surface-alt: var(--c-e);
  --theme-text: var(--c-a);
  --theme-text-white: var(--c-e);
  --theme-accent: var(--c-a);
  --theme-border: var(--c-b);
  --theme-strip: var(--c-d);
  --theme-strip-text: var(--c-a);
  --theme-textbox: var(--c-f);
  --theme-placeholder: var(--c-e);
  --theme-pencil: var(--c-f);
  --theme-superscript: var(--c-f);
  --theme-moveto: var(--c-e);
  --theme-scripture: var(--c-e);
  --theme-verse: var(--c-e);
  --theme-card-number: var(--c-a);
  --theme-shadow-carousel: rgba(204, 218, 209, 0.25);
  --theme-shadow-categories: var(--c-o);
  --theme-shadow-onSale: rgba(204, 218, 209, 0.25);
  --theme-text-black: var(--c-p);
  --theme-text-dark: var(--c-a);

  /* buttons */
  --theme-button: var(--c-a);
  --theme-button-blue: var(--c-b);
  --theme-button-blue-hover: var(--c-a);
  --theme-button-gray: var(--c-b);
  --theme-button-dark: var(--c-e);
  --theme-button-hover: var(--c-k);
  --theme-button-yellow: var(--c-o);
  --theme-pill-green: var(--c-l);
  --theme-pill-orange: var(--c-m);

  /* links */
  --theme-link: var(--c-j);
  --theme-link-hover: #74C7D6;

  /* semantic */
  --theme-success: var(--c-g);
  --theme-warning: var(--c-i);
  --theme-info: var(--c-j);
  --theme-psycho: var(--c-q);

  /* cards & interactive */
  --theme-card: var(--c-d);
  --theme-card-hover: var(--c-b);
  --theme-card-hover-alt: var(--c-b);
  --theme-card-alt: var(--c-h);
  --theme-card-alt-inverse: var(--c-f);
  --theme-hover: var(--c-b);
  --theme-card-alt-hover: var(--c-n);
  --theme-category: var(--c-d);

  /* focus & elevation */
  --theme-focus: var(--c-a);
  --theme-shadow: rgba(204, 218, 209, 0.25);

  /* error */
  --theme-error: #ef4444;
  --theme-button-error: #c43838;

  /* DARK scrollbar */
  --theme-scrollbar-track: var(--theme-bg);
  --theme-scrollbar-thumb: var(--theme-accent);
}

/* ================================ FORCED LIGHT (explicit override) ================================ */
html[data-theme="light"] { color-scheme: light; }

/* ========================================= GLOBALS ========================================= */

/* PLACEHOLDER COLOR */
@layer base {
  input::placeholder {
    color: var(--theme-text);
    opacity: 0.7;
  }
}

/* GLOBAL STYLES */
body {
  font-family: 'Inter', sans-serif;
  background: var(--theme-bg);
  color: var(--theme-text);
}

/* GLOBAL SCROLLBAR */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: var(--theme-scrollbar-thumb) var(--theme-scrollbar-track);
}
.custom-scrollbar::-webkit-scrollbar { width: 10px; border-radius: 8px; }
.custom-scrollbar::-webkit-scrollbar-track {
  background: var(--theme-scrollbar-track);
  border-radius: 8px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: var(--theme-scrollbar-thumb);
  border-radius: 8px;
  border: 2px solid var(--theme-scrollbar-track);
}

/* Hide scrollbars only for the header nav */
.header-nav--no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.header-nav--no-scrollbar::-webkit-scrollbar { display: none; }

/* --- Mobile WebKit helpers --- */
html { -webkit-text-size-adjust: 100%; }
@supports (-webkit-touch-callout: none) {
  html, body, a, button, input, label, select, textarea { touch-action: manipulation; }
  * { -webkit-tap-highlight-color: rgba(0,0,0,0); }
}

/* Subtle 3D text variants */
.text-3d-raised {
  text-shadow:
          0 1px 0 var(--theme-surface),
          0 2px 0 var(--theme-border),
          0 3px 4px var(--theme-shadow);
}
.text-3d-engraved {
  text-shadow:
          0 -1px 0 var(--theme-surface),
          0 -2px 0 var(--theme-border),
          0 -3px 4px var(--theme-shadow);
}

/* in your global css */
.mc-brand-wordmark {
  filter: drop-shadow(1px 2px 2px var(--theme-shadow-carousel));
}

/* Keep corners pretty with scrollbars present */
.scrollpad { scrollbar-gutter: stable both-edges; }

/* Keyframes + utility */
@layer keyframes {
  @keyframes mc-bounce-3s {
    0%, 100% { transform: translateY(0); }
    3% { transform: translateY(-0.5rem); }
    6% { transform: translateY(0); }
    9% { transform: translateY(-0.25rem); }
    12% { transform: translateY(0); }
  }
}
@layer utilities {
  .animate-bounce-3s {
    animation: mc-bounce-3s 3s ease-in-out infinite;
    will-change: transform;
  }
}

/* ================================== THEME-DRIVEN LOGO SWAP ================================== */
@layer components {
  /* Default = light */
  .mc-only-light { display: inline-block; }
  .mc-only-dark  { display: none; }

  /* Explicit overrides via your toggle */
  :root[data-theme="light"] .mc-only-light { display: inline-block; }
  :root[data-theme="light"] .mc-only-dark  { display: none; }

  :root[data-theme="dark"]  .mc-only-light { display: none; }
  :root[data-theme="dark"]  .mc-only-dark  { display: inline-block; }

  /* System mode (no data-theme OR data-theme="system") */
  @media (prefers-color-scheme: dark) {
    :root:not([data-theme]) .mc-only-light,
    :root[data-theme="system"] .mc-only-light { display: none; }

    :root:not([data-theme]) .mc-only-dark,
    :root[data-theme="system"] .mc-only-dark  { display: inline-block; }
  }

  @media (prefers-color-scheme: light) {
    :root:not([data-theme]) .mc-only-light,
    :root[data-theme="system"] .mc-only-light { display: inline-block; }

    :root:not([data-theme]) .mc-only-dark,
    :root[data-theme="system"] .mc-only-dark  { display: none; }
  }
}
